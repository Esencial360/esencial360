<app-header></app-header>
<div class="max-w-lg mx-auto p-6">
  <h2 class="text-2xl font-bold mb-6">Become a Yoga Instructor</h2>
  @if(!formSubmitted) {
    <form [formGroup]="instructorForm" (ngSubmit)="onSubmit()">
        <div class="mb-4">
          <label for="name" class="block mb-2 font-bold text-gray-700"
            >Full Name</label
          >
          <input
            type="text"
            id="name"
            formControlName="name"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"
          />
          <div
            *ngIf="
              instructorForm.get('name')?.invalid &&
              (instructorForm.get('name')?.dirty ||
                instructorForm.get('name')?.touched)
            "
            class="text-red-500 mt-1"
          >
            <div *ngIf="instructorForm.get('name')?.errors?.['required']">
              Name is required.
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label for="email" class="block mb-2 font-bold text-gray-700"
            >Email</label
          >
          <input
            type="email"
            id="email"
            formControlName="email"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"
          />
          <div
            *ngIf="
              instructorForm.get('email')?.invalid &&
              (instructorForm.get('email')?.dirty ||
                instructorForm.get('email')?.touched)
            "
            class="text-red-500 mt-1"
          >
            <div *ngIf="instructorForm.get('email')?.errors?.['required']">
              Email is required.
            </div>
            <div *ngIf="instructorForm.get('email')?.errors?.['email']">
              Invalid email format.
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label for="experience" class="block mb-2 font-bold text-gray-700"
            >Years of Experience</label
          >
          <input
            type="number"
            id="experience"
            formControlName="experience"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"
          />
          <div
            *ngIf="
              instructorForm.get('experience')?.invalid &&
              (instructorForm.get('experience')?.dirty ||
                instructorForm.get('experience')?.touched)
            "
            class="text-red-500 mt-1"
          >
            <div *ngIf="instructorForm.get('experience')?.errors?.['required']">
              Experience is required.
            </div>
            <div *ngIf="instructorForm.get('experience')?.errors?.['min']">
              Experience must be at least 0 years.
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label for="bio" class="block mb-2 font-bold text-gray-700">Bio</label>
          <textarea
            id="bio"
            formControlName="bio"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none"
          ></textarea>
          <div
            *ngIf="
              instructorForm.get('bio')?.invalid &&
              (instructorForm.get('bio')?.dirty ||
                instructorForm.get('bio')?.touched)
            "
            class="text-red-500 mt-1"
          >
            <div *ngIf="instructorForm.get('bio')?.errors?.['required']">
              Bio is required.
            </div>
          </div>
        </div>
        <div class="mb-4">
            <label for="resume" class="block mb-2 font-bold text-gray-700">Resume (PDF)</label>
            <input type="file" id="resume" (change)="onFileChange($event)" accept=".pdf" class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none">
            <div *ngIf="resumeError" class="text-red-500 mt-1">
              {{ resumeError }}
            </div>
          </div>
        <button
          type="submit"
          [disabled]="instructorForm.invalid"
          class="w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition-colors"
        >
          Submit
        </button>
      </form>
  } @else {
    <div>
        <div class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mt-6">
            <p class="font-bold">Thank you for your submission!</p>
            <p>Your information has been uploaded successfully. We will review your application and contact you via email for further follow-up.</p>
          </div>
    </div>
    <button
    (click)="onHome()"
    class="w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition-colors"
  >
    Go back to Home
  </button>
  }
</div>
<app-footer></app-footer>
