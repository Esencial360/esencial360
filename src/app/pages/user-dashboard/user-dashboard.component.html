@if (isLoading) {
  <app-loading></app-loading>
} @else {
  @if (authService.user$ | async; as user) {
    <div
      class="flex md:flex-row  flex-col items-center justify-around bg-white px-8 py-16 rounded-xl max-w-6xl mx-auto"
    >
      <div class="flex-1 pr-8">
        <h2 class="!text-4xl font-bold text-strongBrown mb-4">
          Bienvenido {{ user.given_name ? user.given_name : user.nickname }}
        </h2>
        <p class="text-olive-600 text-lg">
          Gira, fluye, equilibra y estira con esta colección de clases de yoga en
          español.
        </p>
      </div>
      <div class="mt-5 md:mt-0 md:w-1/2">
        <img
          src="../../../assets/images/yoga1.jpg"
          alt="Person doing yoga"
          class="rounded-xl object-cover w-full h-64"
        />
      </div>
    </div>
    }
    <!-- <button
      type="submit"
      (click)="sendTestEmail()"
      class="w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition-colors"
    >
      MANDA UN CORREO
    </button>
    <button
      type="submit"
      (click)="onUploadVideo()"
      class="w-full py-2 px-4 bg-black text-white rounded-md hover:bg-gray-800 transition-colors"
    >
      SUBE UNA CLASE
    </button> -->
    <app-classes-catalogue
      [collectionList]="collectionList"
    ></app-classes-catalogue>
    <app-instructors-overview></app-instructors-overview>
    <section class="container mx-auto px-4 py-8 mt-10">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div>
          <h2 class="text-green-600 font-semibold mb-2 text-blue">OUR BLOG</h2>
          <h1 class="text-2xl font-bold mb-4 text-strongBrown">
            CHECK OUT OUR BLOG
          </h1>
          <p class="text-gray-600 text-sm text-strongBrown">
            Weekly inspiration for mindful living. Discover yoga sequences, short
            workouts, recipes, and mindfulness tips from the experts.
          </p>
          <button class="bg-blue text-white px-6 py-2  mt-4 rounded-full flex items-center relative" (click)="navigateToBlog()">
            TODOS LOS BLOGS
            <!-- <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 bg-lightBrown rounded-full absolute left-[111px] border-4 border-blue" viewBox="0 0 20 20" fill="white">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg> -->
          </button>
        </div>
        @for (blog of blogs | slice:0:5; track blog) {
        <div class="rounded-lg overflow-hidden relative" (click)="onNavigateToSingleBlog(blog._id)">
          <img
            [src]="'../../../assets/images/yoga.jpg'"
            [alt]=""
            class="w-full h-48 object-cover transition duration-300 ease-in-out transform hover:scale-125 cursor-pointer"
          />
          <div class="">
            <h3
              class="text-xl text-white z-20 font-semibold absolute -translate-x-2/4 -translate-y-1/2 top-1/2 left-2/4"
            >
              {{ blog.title }}
            </h3>
          </div>
        </div>
        }
      </div>
    </section>
}

